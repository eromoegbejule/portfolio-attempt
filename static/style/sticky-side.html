<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Scrollama: Sticky Side Example</title>
    <meta name="description" content="Scrollama: Sticky Side Example" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <style>
      #scrolly {
    position: relative;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    background-repeat: no-repeat,
      no-repeat,
      no-repeat;
    padding: 1rem;
      }

      #scrolly > * {
    -webkit-box-flex: 1;
    -ms-flex: 1;
    flex: 1;
      }

      article {
        position: relative;
        padding: 0 1rem;
        max-width: 20rem;
      }

      .sticky-thing {
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    margin: 0;
		  
    background-size: cover;
    z-index: 0;
    top: 12.5vh;
    height: 70vh;
    /* Center everything inside */
    display: flex;
    align-items: center;
    justify-content: center;
      }
	

      .sticky-thing p {
        padding: 1rem;
        font-size: 8rem;
        font-weight: 800;
		text-align:right;
        color: #000000;
      }

      .step {
        margin: 0 auto 1rem auto;
        background-color: #636363;
		background-clip: 
        color: #000000;
      }

      .step:last-child {
        margin-bottom: 0;
      }

      .step.is-active {
        background-color: goldenrod;
        color: #3b3b3b;
      }

      .step p {
        text-align: center;
        padding: 1rem;
        font-size: 1.5rem;
      }
		
		.head {
        text-align: center;
        padding: 1rem;
        font-size: 1.5rem;
		background-image: url("afrobeats.jpeg");
      }
    </style>
  </head>

  <body>
    <main>
      <nav>
        <a href="https://github.com/russellgoldenberg/scrollama">scrollama.js</a>
        <div class="nav__examples">
          <p>Examples:</p>
          <a href="basic.html">Basic</a>
          <a href="progress.html">Progress</a>
          <a href="sticky-side.html">Sticky Side</a>
          <a href="sticky-overlay.html">Sticky Overlay</a>
        </div>
      </nav>
      <section id="intro">
        <h1 class="intro__hed">2019 in African pop: 10 must-listen tracks</h1>
        <p class="intro__dek">
          From uptempo romance to feelgood dance, politically spicy rap and crowdpleasing pop, the biggest tracks across Africa went big on cross-continental appeal. <a href="https://www.theguardian.com/music/2019/dec/24/2019-in-african-pop-10-must-listen-tracks">Read original story here</a>.
        </p>
      </section>

      <section id="scrolly">
        <article>
          <div class="step" data-step="1" data-image= url('https://images.jacobinmag.com/wp-content/uploads/sites/3/2020/08/05152824/profile-Naira-Marley.jpg?fit=1200%2C800&ssl=1')>
            <p><strong>Naira Marley – Soapy:</strong> The multimillion-dollar question that Nigeria’s anti-corruption commission has been asking all year: how do you solve a problem like Naira Marley? In May, the 25-year-old was arrested for an alleged advance-fee scam and related cybercrimes after the release of a controversial song about Yahoo Boys (a Nigerian phrase for internet fraudsters)...</p>
          </div>
          <div class="step" data-step="2" data-image= url('https://anmg-production.anmg.xyz/gandalebs_5FmLkkA4hDWqjscskBGjzm1i')>
            <p><strong>Big Tril – Parte After Parte:</strong> The latest catchphrase in African pop culture was coined by Ugandan rapper Big Tril, although its roots lie in a 2011 sermon where controversial Ugandan clergyman Martin Sempa – well known for his regular puritanical tirades – laments that his younger compatriots are good-for-nothing hedonists who only know how to party...</p>
          </div>
          <div class="step" data-step="3" data-image= url('https://media.newyorker.com/photos/5c4108b137d8ec520248ca45/16:9/w_1200,h_630,c_limit/TNY-Rec-Teni.jpg')>
            <p><strong>Teni – Power Rangers:</strong> Writing for herself and other more established stars, Nigeria’s Teniola Apata has zoomed to enviable heights since 2017 when she achieved first national and then continental relevance. In Power Rangers, she’s dwelling in fantasy, invoking pop culture references from the Marvel Universe, Bollywood and David Beckham...</p>
          </div>
          <div class="step" data-step="4" data-image= url('https://live.staticflickr.com/65535/49332579643_c6e0cb1e21_b.jpg')>
            <p><strong>Innoss’B – Yo Pe:</strong> Despite following in a longstanding tradition of dishing up rhythmic Congolese music and intriguing dance moves for the rest of the continent, 22-year-old Innoss’B is carving a path of his own by racking up hit after hit. His finest, Yo Pe, has had more than 16m views in under six months. The singer-songwriter plays djembe, sings...</p>
          </div>
		  <div class="step" data-step="5" data-image= url('https://ocdn.eu/pulscms-transforms/1/6tTk9kpTURBXy9mMDExMzdmMTAyMjk4NmNhYzM2ZDY3NTFkMDUzYjgwZi5qcGeSlQMACM0ClM0Bc5MFzQOYzQH0gaEwAQ')>
            <p><strong>Joeboy - Baby:</strong> Innocent-faced newcomer Joeboy seems poised to become one of the leaders of Nigeria’s new school. The biggest beneficiary of the Empawa music accelerator programme run by his countryman, superstar Mr Eazi, Joeboy has been described by Billboard magazine as the nation’s next big thing. Baby, the first single off his Love and Light EP...</p>
          </div>
		  <div class="step" data-step="6" data-image= url('https://i0.wp.com/media.ghgossip.com/wp-content/uploads/2021/02/15065925/dj-maphorisa-and-kabza.jpg?fit=1200%2C800&ssl=1')>
            <p><strong>DJ Maphorisa – Amantombazane ft Kabza De Small, Samthing Soweto, MFR Souls:</strong> Old and new sub-genres of South Africa’s elegant take on house music collide to great effect in this feelgood song. A poster track for the underground <em>amapiano</em> sound of Pretoria that emerged circa 2016, and piggybacking on the older <em>DiBacardi</em> movement...</p>
          </div>
		  <div class="step" data-step="7" data-image= url('https://cdn.vox-cdn.com/thumbor/vcrwKsnElnVdnae5uHa7bbV3lTA=/0x0:1582x1004/1200x800/filters:focal(658x173:910x425)/cdn.vox-cdn.com/uploads/chorus_image/image/67916860/burna_boy_prince_gyasi.14.jpg')>
            <p><strong>Burna Boy - Anybody:</strong> Burna Boy has had two stellar years, resulting in his emergence from Nigerian superstar to the continent’s leading man on a global stage – plus a Grammy nomination for his album African Giant. An otherworldly mashup of dancehall and Afrobeat, the crossover album channels the rebellious spirit of Afrobeat progenitor Fela Kuti...</p>
          </div>
		  <div class="step" data-step="8" data-image= url('https://i0.wp.com/media.ghgossip.com/wp-content/uploads/2021/03/08140517/Maya-Sho-Madjozi.jpg?fit=1200%2C800&ssl=1')>
            <p><strong>Sho Madjozi – John Cena:</strong> Undisputedly one of the best performers on the continent, the 27-year-old South African rapper, singer and actress has energy in spades. John Cena, named after the US celebrity wrestler/actor, has elements of hip-hop mixed with her favoured <em>gqom</em>, a sub-genre of South African house music...</p>
          </div>
		  <div class="step" data-step="9" data-image= url('https://i.pinimg.com/originals/50/66/09/506609eed1ced7affaa055bb12c34965.jpg')>
            <p><strong>Rayvanny – Tettema ft Diamond:</strong> Tanzanian superstar Diamond Platnumz has emerged as a sort of Midas in east Africa, turning everything he touches to gold. That run also occasionally extends to consume the entire continent: Tettema is another major hit crafted by him and protégé Rayvanny...</p>
          </div>
		  <div class="step" data-step="10" data-image= url('https://thetropixs.com/wp-content/uploads/2018/12/Popcaan-Davido.png')>
            <p><strong>Davido – Risky ft Popcaan:</strong> Davido and Popcaan reunited for the infectious Risky, from the Nigerian’s second studio album A Good Time – a star-studded record starring Chris Brown, Summer Walker, Wurld and zanku pioneer Zlatan. The irresistible Risky has rapidly tattooed itself onto dance floors worldwide from Lagos...</p>
          </div>
        </article>
        <div class="sticky-thing">
          <p>0</p>
        </div>
      </section>

      <section id="outro"></section>
    </main>

    <!-- <div class='debug'></div> -->
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script>
      // using d3 for convenience
      var main = document.querySelector("main");
      var scrolly = main.querySelector("#scrolly");
      var sticky = scrolly.querySelector(".sticky-thing");
      var article = scrolly.querySelector("article");
      var steps = article.querySelectorAll(".step");

      // initialize the scrollama
      var scroller = scrollama();

      // scrollama event handlers
      function handleStepEnter(response) {
        // response = { element, direction, index }
        var el = response.element;

        // remove is-active from all steps
        // then add is-active to this step
        steps.forEach(step => step.classList.remove('is-active'));
        el.classList.add('is-active');

        // update graphic based on step
        sticky.querySelector("p").innerText = el.dataset.step;
		sticky.style.backgroundImage = el.dataset.image;
      }

      function init() {
        scroller
          .setup({
            step: "#scrolly article .step",
            offset: 0.33,
            debug: true
          })
          .onStepEnter(handleStepEnter);

        // setup resize event
        window.addEventListener("resize", scroller.resize);
      }

      // kick things off
      init();
    </script>
  </body>
</html>
